<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xmlns:xsd="http://www.w3.org/2001/XMLSchema"
             xmlns:flowable="http://activiti.org/bpmn"
             xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
             xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC"
             xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI"
             typeLanguage="http://www.w3.org/2001/XMLSchema"
             expressionLanguage="http://www.w3.org/1999/XPath"
             targetNamespace="http://www.activiti.org/careers">
  <collaboration id="Collaboration">
    <participant id="sid-DF77EB5C-7308-429E-8401-838B15EC5344" processRef="scheduleChangeProcess"></participant>
  </collaboration>
  <process id="scheduleChangeProcess" name="Cambio de Jornada (Manual)" flowable:candidateStarterGroups="APPLICATION/Student">
    <documentation>{"translationPrefix": "scheduleChangeProcess", "estimatedDuration": 5, "sideComponents":[{"name":"comments"},{"name":"attachments"},{"name":"timeline"}]}</documentation>
    <extensionElements>
      <flowable:executionListener event="start" class="com.ilumno.bps.pdp.listener.TimestampSetupListener"></flowable:executionListener>
      <flowable:executionListener event="start" class="com.ilumno.bps.pdp.listener.ProcessKeyListener"></flowable:executionListener>
      <flowable:executionListener event="start" class="com.ilumno.bps.pdp.listener.UserTaskProgressionListener">
        <flowable:field name="percentage">
          <flowable:string><![CDATA[0]]></flowable:string>
        </flowable:field>
      </flowable:executionListener>
    </extensionElements>
    <laneSet id="laneSet_scheduleChangeProcess">
      <lane id="sid-0AD809AE-4631-459E-97F9-A73F84FD514E">
        <flowNodeRef>startForm</flowNodeRef>
        <flowNodeRef>Notificacion</flowNodeRef>
        <flowNodeRef>createCrmCase</flowNodeRef>
        <flowNodeRef>notifyUser</flowNodeRef>
        <flowNodeRef>notifyGroups</flowNodeRef>
        <flowNodeRef>sid-36ABACF3-4D82-4757-B3C2-ED28832361D5</flowNodeRef>
        <flowNodeRef>sid-D6F62A05-FB2E-46C5-825C-AC142A1D8A5B</flowNodeRef>
        <flowNodeRef>sid-06B0A0DD-B200-4A8C-8F8F-F1BB82C789A0</flowNodeRef>
        <flowNodeRef>sid-EDDEB11E-0F44-4E6B-87A2-DF7448962D46</flowNodeRef>
        <flowNodeRef>sid-22940B77-EFA8-48D0-95BD-522F679D426F</flowNodeRef>
        <flowNodeRef>attachDocumentation</flowNodeRef>
        <flowNodeRef>parallelgateway1</flowNodeRef>
        <flowNodeRef>timerintermediatecatchevent1</flowNodeRef>
        <flowNodeRef>endevent2</flowNodeRef>
        <flowNodeRef>callactivity2</flowNodeRef>
        <flowNodeRef>endingNotification1</flowNodeRef>
      </lane>
      <lane id="sid-D10A8765-2E2F-4B3D-BC65-790CB3CFEE03">
        <flowNodeRef>endevent1</flowNodeRef>
        <flowNodeRef>validateRequest</flowNodeRef>
        <flowNodeRef>fetchValidationValues</flowNodeRef>
        <flowNodeRef>updateCrmCase</flowNodeRef>
        <flowNodeRef>notifyClosureToUser</flowNodeRef>
        <flowNodeRef>updateScheduleInBanner</flowNodeRef>
        <flowNodeRef>exclusivegateway1</flowNodeRef>
        <flowNodeRef>sid-C7C255BD-6C76-47D2-B9CA-E0278D2A016C</flowNodeRef>
        <flowNodeRef>notifyWrongDocToUser</flowNodeRef>
        <flowNodeRef>sid-F1FC224F-493B-4DC1-B47A-2DA63552969B</flowNodeRef>
        <flowNodeRef>sid-D7509276-09D7-4125-AB98-90FFE8AAAF50</flowNodeRef>
        <flowNodeRef>sid-CC359DBD-312D-4C5E-83FC-C260BF5998EC</flowNodeRef>
        <flowNodeRef>ok</flowNodeRef>
        <flowNodeRef>no</flowNodeRef>
        <flowNodeRef>sid-4B4AEFDC-D498-4592-AC51-26FBF52BBBDC</flowNodeRef>
        <flowNodeRef>sid-A9659F3F-F381-4CB7-8E12-D2C6A50F7306</flowNodeRef>
        <flowNodeRef>sid-19E913B8-EC9A-4C51-9D24-F96337E15D10</flowNodeRef>
        <flowNodeRef>sid-C4177BDE-4031-433D-81B5-D83AAB91DEF9</flowNodeRef>
        <flowNodeRef>sid-4B89FA7C-E824-4EE8-84E8-D992437FF91A</flowNodeRef>
        <flowNodeRef>sid-B8AB1BD2-30CF-4CB0-8C80-1686B52AFADB</flowNodeRef>
        <flowNodeRef>sid-4195AD74-CBCA-4611-A6AF-70846CEFBD8E</flowNodeRef>
        <flowNodeRef>scripttask1</flowNodeRef>
        <flowNodeRef>scripttask2</flowNodeRef>
        <flowNodeRef>validateDocumentation</flowNodeRef>
        <flowNodeRef>scripttask3</flowNodeRef>
        <flowNodeRef>callactivity1</flowNodeRef>
        <flowNodeRef>endingNotification2</flowNodeRef>
      </lane>
    </laneSet>
    <startEvent id="startForm" name="Inicio" flowable:formKey="formularioInicio">
      <documentation>{ "translationPrefix": "initialForm", "fields": { "actualDate": { "renderAs": "date", "customFieldType": "dateField" }, "studentId": { "renderAs": "textBox", "customFieldType": "studentId", "writable": false }, "student": { "renderAs": "textBox", "customFieldType": "studentName", "writable": false }, "studentEmail": { "renderAs": "textBox", "customFieldType": "studentEmail", "writable": false }, "program": { "renderAs": "dropdown", "customFieldType": "studentProgram", "writable": false }, "schedule": { "renderAs": "enum", "customFieldType": "studentProgramTurns", "key": "id", "display": "name", "writable": false }, "newSchedule": { "renderAs": "studentProgramTurns", "customFieldType": "universitySchedules", "customFieldTypeParamsOverride": { "levelId": { "type": "queryString", "from": "userContextInfo", "path": "program.levelId" }, "siteId": { "type": "queryString", "from": "userContextInfo", "path": "program.siteId" } }, "key": "id", "display": "name", "parentField": "schedule", "disableSelectedValue": true }, "studentComments": { "renderAs": "textArea" }, "supportDocuments": { "renderAs": "fileAttachment" } } }</documentation>
      <extensionElements>
        <flowable:formProperty id="actualDate" name="Fecha Actual" type="date" variable="currentDate" datePattern="MM-dd-yyyy hh:mm" writable="false" required="true"></flowable:formProperty>
        <flowable:formProperty id="studentId" name="Identificador Alumno" type="string" variable="studentId" writable="false" required="true"></flowable:formProperty>
        <flowable:formProperty id="student" name="Alumno" type="string" variable="student" writable="false" required="true"></flowable:formProperty>
        <flowable:formProperty id="studentEmail" name="Email del Estudiante" type="string" variable="studentEmail"></flowable:formProperty>
        <flowable:formProperty id="program" name="Programa" type="string" variable="program" writable="false" required="true"></flowable:formProperty>
        <flowable:formProperty id="schedule" name="Jornada Actual" type="enum" variable="schedule" required="true"></flowable:formProperty>
        <flowable:formProperty id="newSchedule" name="Nueva Jornada" type="enum" variable="newSchedule" required="true"></flowable:formProperty>
        <flowable:formProperty id="studentComments" name="Observaciones" type="string" variable="studentComments"></flowable:formProperty>
        <flowable:formProperty id="supportDocuments" name="Documentos de Soporte" type="string" variable="supportDocuments" required="true"></flowable:formProperty>
      </extensionElements>
    </startEvent>
    <callActivity id="Notificacion" name="Notificacion" calledElement="notificationProcess">
      <extensionElements>
        <flowable:in source="studentEmail" target="notificationRecipients"></flowable:in>
        <flowable:in sourceExpression="APPLICATION/BackOffice" target="notificationRecipientsGroup"></flowable:in>
        <flowable:in sourceExpression="STARTED_PROCESS" target="notificationType"></flowable:in>
        <flowable:in source="processId" target="processId"></flowable:in>
        <flowable:in source="processDefinitionKey" target="processDefinitionKey"></flowable:in>
      </extensionElements>
    </callActivity>
    <callActivity id="createCrmCase" name="Crear Caso CRM" calledElement="crmCreationProcess">
      <extensionElements>
        <flowable:in sourceExpression="scheduleChange" target="caseType"></flowable:in>
        <flowable:in source="studentIdType" target="studentIdType"></flowable:in>
        <flowable:in source="studentId" target="studentId"></flowable:in>
        <flowable:out source="caseId" target="crmCaseId"></flowable:out>
      </extensionElements>
    </callActivity>
    <callActivity id="notifyUser" name="Enviar Notificación Usuario" calledElement="userNotificationProcess">
      <extensionElements>
        <flowable:in sourceExpression="scheduleChangeInitStudent" target="notificationType"></flowable:in>
        <flowable:in source="studentEmail" target="mailRecipient"></flowable:in>
        <flowable:in source="student" target="student"></flowable:in>
      </extensionElements>
    </callActivity>
    <callActivity id="notifyGroups" name="Enviar Notificación Grupo Responsable" calledElement="userNotificationProcess">
      <extensionElements>
        <flowable:in sourceExpression="scheduleChange" target="notificationType"></flowable:in>
        <flowable:in sourceExpression="APPLICATION/BackOffice" target="mailRecipientGroup"></flowable:in>
        <flowable:in source="student" target="student"></flowable:in>
      </extensionElements>
    </callActivity>
    <endEvent id="endevent1" name="Fin">
      <documentation>Fin del proceso</documentation>
    </endEvent>
    <userTask id="validateRequest" name="Validar Solicitud" flowable:candidateGroups="APPLICATION/BackOffice">
      <documentation>{ "translationPrefix": "requestValidation", "fields": { "actualDate": { "renderAs": "date" }, "studentId": { "renderAs": "textBox", "writable": false }, "student": { "renderAs": "textBox", "writable": false }, "studentEmail": { "renderAs": "textBox", "writable": false }, "program": { "renderAs": "dropdown", "writable": false }, "schedule": { "renderAs": "enum", "key": "id", "display": "name", "writable": false }, "newSchedule": { "renderAs": "studentProgramTurns", "key": "id", "display": "name", "parentField": "schedule", "disableSelectedValue": true }, "studentComments": { "renderAs": "textArea" }, "comments": { "renderAs": "textArea" }, "requestApproved": { "groupAs": "yesNoJustificationWithOptions", "groupType": "options", "renderAs": "boolean" }, "rejectionCause": { "groupAs": "yesNoJustificationWithOptions", "groupType": "cause", "parentField": "requestApproved", "renderAs": "enum" } } }</documentation>
      <extensionElements>
        <flowable:executionListener event="start" class="com.ilumno.bps.pdp.listener.UserTaskProgressionListener">
          <flowable:field name="percentage" stringValue="0"/>
        </flowable:executionListener>
        <flowable:taskListener event="create" class="com.ilumno.bps.pdp.listener.task.CurrentTaskListener"></flowable:taskListener>
        <flowable:executionListener event="end" class="com.ilumno.bps.pdp.listener.UserTaskProgressionListener">
          <flowable:field name="percentage" stringValue="100" />
        </flowable:executionListener>
        <flowable:formProperty id="requestApproved" name="Aprobación de Solicitud" type="boolean" variable="requestApproved" required="true"></flowable:formProperty>
        <flowable:formProperty id="rejectionCause" name="Causa de Rechazo" type="enum" variable="rejectionCause">
          <flowable:value id="A" name="A"></flowable:value>
          <flowable:value id="B" name="B"></flowable:value>
          <flowable:value id="C" name="C"></flowable:value>
        </flowable:formProperty>
        <flowable:formProperty id="comments" name="Observaciones" type="string" variable="commentsValidateRequest"></flowable:formProperty>
      </extensionElements>
    </userTask>
    <serviceTask id="fetchValidationValues" name="Obtener valores para Validación" flowable:class="com.ilumno.bps.pdp.task.BannerFetchScheduleData"></serviceTask>
    <callActivity id="updateCrmCase" name="Actualizar Caso CRM" calledElement="crmUpdateProcess">
      <extensionElements>
        <flowable:in sourceExpression="close" target="status"></flowable:in>
        <flowable:in source="crmCaseId" target="caseId"></flowable:in>
      </extensionElements>
    </callActivity>
    <callActivity id="notifyClosureToUser" name="Enviar Notificación Usuario" calledElement="userNotificationProcess">
      <extensionElements>
        <flowable:in sourceExpression="scheduleChangeClosure" target="notificationType"></flowable:in>
        <flowable:in source="studentEmail" target="mailRecipient"></flowable:in>
        <flowable:in source="student" target="student"></flowable:in>
      </extensionElements>
    </callActivity>
    <serviceTask id="updateScheduleInBanner" name="Actualizar Jornada en Banner" flowable:class="com.ilumno.bps.pdp.task.BannerUpdateCaseTask"></serviceTask>
    <exclusiveGateway id="exclusivegateway1" name="Validación Correcta?"></exclusiveGateway>
    <exclusiveGateway id="sid-C7C255BD-6C76-47D2-B9CA-E0278D2A016C" name="Documentación Correcta?"></exclusiveGateway>
    <callActivity id="notifyWrongDocToUser" name="Notificar Usuario Adjuntar Documentación" calledElement="userNotificationProcess">
      <extensionElements>
        <flowable:in sourceExpression="newDocumentationRequired" target="notificationType"></flowable:in>
        <flowable:in source="studentEmail" target="mailRecipient"></flowable:in>
        <flowable:in source="student" target="student"></flowable:in>
      </extensionElements>
    </callActivity>
    <sequenceFlow id="sid-36ABACF3-4D82-4757-B3C2-ED28832361D5" sourceRef="startForm" targetRef="parallelgateway1"></sequenceFlow>
    <sequenceFlow id="sid-D6F62A05-FB2E-46C5-825C-AC142A1D8A5B" sourceRef="createCrmCase" targetRef="notifyUser"></sequenceFlow>
    <sequenceFlow id="sid-06B0A0DD-B200-4A8C-8F8F-F1BB82C789A0" sourceRef="notifyUser" targetRef="notifyGroups"></sequenceFlow>
    <sequenceFlow id="sid-F1FC224F-493B-4DC1-B47A-2DA63552969B" sourceRef="updateCrmCase" targetRef="notifyClosureToUser"></sequenceFlow>
    <sequenceFlow id="sid-D7509276-09D7-4125-AB98-90FFE8AAAF50" sourceRef="notifyClosureToUser" targetRef="endingNotification2"></sequenceFlow>
    <sequenceFlow id="sid-CC359DBD-312D-4C5E-83FC-C260BF5998EC" sourceRef="validateRequest" targetRef="exclusivegateway1"></sequenceFlow>
    <sequenceFlow id="ok" name="Si" sourceRef="exclusivegateway1" targetRef="updateScheduleInBanner">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${requestApproved}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="no" name="No" sourceRef="exclusivegateway1" targetRef="validateDocumentation">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!requestApproved}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-4B4AEFDC-D498-4592-AC51-26FBF52BBBDC" name="Si" sourceRef="sid-C7C255BD-6C76-47D2-B9CA-E0278D2A016C" targetRef="callactivity1">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${documentationApproved}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-A9659F3F-F381-4CB7-8E12-D2C6A50F7306" name="No" sourceRef="sid-C7C255BD-6C76-47D2-B9CA-E0278D2A016C" targetRef="notifyWrongDocToUser">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!documentationApproved}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-EDDEB11E-0F44-4E6B-87A2-DF7448962D46" sourceRef="notifyGroups" targetRef="fetchValidationValues"></sequenceFlow>
    <sequenceFlow id="sid-19E913B8-EC9A-4C51-9D24-F96337E15D10" sourceRef="fetchValidationValues" targetRef="validateRequest"></sequenceFlow>
    <sequenceFlow id="sid-C4177BDE-4031-433D-81B5-D83AAB91DEF9" sourceRef="notifyWrongDocToUser" targetRef="attachDocumentation"></sequenceFlow>
    <sequenceFlow id="sid-4B89FA7C-E824-4EE8-84E8-D992437FF91A" sourceRef="scripttask1" targetRef="updateCrmCase"></sequenceFlow>
    <sequenceFlow id="sid-B8AB1BD2-30CF-4CB0-8C80-1686B52AFADB" sourceRef="updateScheduleInBanner" targetRef="scripttask2"></sequenceFlow>
    <sequenceFlow id="sid-4195AD74-CBCA-4611-A6AF-70846CEFBD8E" sourceRef="scripttask2" targetRef="updateCrmCase"></sequenceFlow>
    <scriptTask id="scripttask1" name="Preparar actualización caso x validación incorrecta" scriptFormat="javascript" flowable:autoStoreVariables="false">
      <script>java.lang.System.out.println("HELLO");</script>
    </scriptTask>
    <scriptTask id="scripttask2" name="Preparar actualización caso x cambio Jornada" scriptFormat="javascript" flowable:autoStoreVariables="false">
      <script>java.lang.System.out.println("HELLO");</script>
    </scriptTask>
    <userTask id="validateDocumentation" name="Validar Documentación" flowable:candidateGroups="APPLICATION/BackOffice">
      <documentation>{ "translationPrefix": "validateDocumentation", "fields": { "actualDate": { "renderAs": "date" }, "studentId": { "renderAs": "textBox", "writable": false }, "student": { "renderAs": "textBox", "writable": false }, "studentEmail": { "renderAs": "textBox", "writable": false }, "program": { "renderAs": "dropdown", "writable": false }, "schedule": { "renderAs": "enum", "key": "id", "display": "name", "writable": false }, "newSchedule": { "renderAs": "studentProgramTurns", "key": "id", "display": "name", "parentField": "schedule", "disableSelectedValue": true }, "comments": { "renderAs": "textArea" }, "documentationApproved": { "groupAs": "yesNoJustificationWithOptions", "groupType": "options", "renderAs": "boolean" } } }</documentation>
      <extensionElements>
        <flowable:formProperty id="documentationApproved" name="Aprobación de Solicitud" type="boolean" variable="documentationApproved" required="true"></flowable:formProperty>
        <flowable:formProperty id="comments" name="Observaciones" type="string" variable="commentsValidateDoc"></flowable:formProperty>
        <flowable:executionListener event="start" class="com.ilumno.bps.pdp.listener.UserTaskProgressionListener">
          <flowable:field name="percentage">
            <flowable:string><![CDATA[50]]></flowable:string>
          </flowable:field>
        </flowable:executionListener>
        <flowable:executionListener event="end" class="com.ilumno.bps.pdp.listener.UserTaskProgressionListener">
          <flowable:field name="percentage">
            <flowable:string><![CDATA[100]]></flowable:string>
          </flowable:field>
        </flowable:executionListener>
        <flowable:taskListener event="create" class="com.ilumno.bps.pdp.listener.task.CurrentTaskListener"></flowable:taskListener>
      </extensionElements>
    </userTask>
    <sequenceFlow id="flow1" sourceRef="validateDocumentation" targetRef="sid-C7C255BD-6C76-47D2-B9CA-E0278D2A016C"></sequenceFlow>
    <userTask id="attachDocumentation" name="Adjuntar Documentación" flowable:candidateGroups="APPLICATION/Student">
      <documentation>{"translationPrefix":"attachDocumentation","fields":{"documentationApproved":{"groupAs":"yesNoJustificationWithOptions","groupType":"options","renderAs":"boolean"},"commentsValidateDoc":{"renderAs":"textArea"},"supportDocuments":{"renderAs":"fileAttachment"}}}</documentation>
      <extensionElements>
        <flowable:formProperty id="supportDocuments" name="Documentos de Soporte" type="string" variable="supportDocuments" required="true"></flowable:formProperty>
        <flowable:executionListener event="start" class="com.ilumno.bps.pdp.listener.UserTaskProgressionListener">
          <flowable:field name="percentage">
            <flowable:string><![CDATA[75]]></flowable:string>
          </flowable:field>
        </flowable:executionListener>
        <flowable:executionListener event="end" class="com.ilumno.bps.pdp.listener.UserTaskProgressionListener">
          <flowable:field name="percentage">
            <flowable:string><![CDATA[100]]></flowable:string>
          </flowable:field>
        </flowable:executionListener>
        <flowable:taskListener event="create" class="com.ilumno.bps.pdp.listener.task.CurrentTaskListener"></flowable:taskListener>
      </extensionElements>
    </userTask>
    <sequenceFlow id="sid-22940B77-EFA8-48D0-95BD-522F679D426F" sourceRef="attachDocumentation" targetRef="scripttask3"></sequenceFlow>
    <callActivity id="callactivity1" name="Notificar Usuario Correcta Documentación" calledElement="userNotificationProcess">
      <extensionElements>
        <flowable:in sourceExpression="correctDocumentationButInvalidRequest" target="notificationType"></flowable:in>
        <flowable:in source="studentEmail" target="mailRecipient"></flowable:in>
        <flowable:in source="student" target="student"></flowable:in>
      </extensionElements>
    </callActivity>
    <sequenceFlow id="flow3" sourceRef="callactivity1" targetRef="scripttask1"></sequenceFlow>
    <scriptTask id="scripttask3" name="Reset de valores" scriptFormat="javascript" flowable:autoStoreVariables="false">
      <script>execution.setVariable('requestApproved', '');
execution.setVariable('rejectionCause', '');
execution.setVariable('commentsValidateRequest', '');
      </script>
    </scriptTask>
    <sequenceFlow id="flow2" sourceRef="scripttask3" targetRef="fetchValidationValues"></sequenceFlow>
    <parallelGateway id="parallelgateway1" name="Parallel Gateway"></parallelGateway>
    <sequenceFlow id="flow4" sourceRef="parallelgateway1" targetRef="Notificacion"></sequenceFlow>
    <intermediateCatchEvent id="timerintermediatecatchevent1" name="TimerCatchEvent">
      <timerEventDefinition>
        <timeDate>${endTimestampISO8601}</timeDate>
      </timerEventDefinition>
    </intermediateCatchEvent>
    <sequenceFlow id="flow5" sourceRef="parallelgateway1" targetRef="timerintermediatecatchevent1"></sequenceFlow>
    <endEvent id="endevent2" name="End"></endEvent>
    <sequenceFlow id="flow6" sourceRef="timerintermediatecatchevent1" targetRef="callactivity2"></sequenceFlow>
    <callActivity id="callactivity2" name="Enviar Notificación Usuario" calledElement="userNotificationProcess">
      <extensionElements>
        <flowable:in sourceExpression="timeout" target="notificationType"></flowable:in>
        <flowable:in source="studentEmail" target="mailRecipient"></flowable:in>
        <flowable:in source="student" target="student"></flowable:in>
      </extensionElements>
    </callActivity>
    <sequenceFlow id="flow7" sourceRef="callactivity2" targetRef="endingNotification1"></sequenceFlow>
    <callActivity id="endingNotification2" name="Notificacion" calledElement="notificationProcess">
      <extensionElements>
        <flowable:in source="studentEmail" target="notificationRecipients"></flowable:in>
        <flowable:in sourceExpression="APPLICATION/BackOffice" target="notificationRecipientsGroup"></flowable:in>
        <flowable:in sourceExpression="ENDED_PROCESS" target="notificationType"></flowable:in>
        <flowable:in source="processId" target="processId"></flowable:in>
        <flowable:in source="processDefinitionKey" target="processDefinitionKey"></flowable:in>
      </extensionElements>
    </callActivity>
    <sequenceFlow id="flow8" sourceRef="endingNotification2" targetRef="endevent1"></sequenceFlow>
    <callActivity id="endingNotification1" name="Notificacion" calledElement="notificationProcess">
      <extensionElements>
        <flowable:in source="studentEmail" target="notificationRecipients"></flowable:in>
        <flowable:in sourceExpression="APPLICATION/BackOffice" target="notificationRecipientsGroup"></flowable:in>
        <flowable:in sourceExpression="ENDED_PROCESS" target="notificationType"></flowable:in>
        <flowable:in source="processId" target="processId"></flowable:in>
        <flowable:in source="processDefinitionKey" target="processDefinitionKey"></flowable:in>
      </extensionElements>
    </callActivity>
    <sequenceFlow id="flow9" sourceRef="endingNotification1" targetRef="endevent2"></sequenceFlow>
    <sequenceFlow id="flow10" sourceRef="Notificacion" targetRef="createCrmCase"></sequenceFlow>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_Collaboration">
    <bpmndi:BPMNPlane bpmnElement="Collaboration" id="BPMNPlane_Collaboration">
      <bpmndi:BPMNShape bpmnElement="sid-DF77EB5C-7308-429E-8401-838B15EC5344" id="BPMNShape_sid-DF77EB5C-7308-429E-8401-838B15EC5344">
        <omgdc:Bounds height="744.0" width="1115.0" x="0.0" y="1.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-0AD809AE-4631-459E-97F9-A73F84FD514E" id="BPMNShape_sid-0AD809AE-4631-459E-97F9-A73F84FD514E">
        <omgdc:Bounds height="305.0" width="1085.0" x="30.0" y="1.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-D10A8765-2E2F-4B3D-BC65-790CB3CFEE03" id="BPMNShape_sid-D10A8765-2E2F-4B3D-BC65-790CB3CFEE03">
        <omgdc:Bounds height="438.0" width="1085.0" x="30.0" y="306.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="startForm" id="BPMNShape_startForm">
        <omgdc:Bounds height="35.0" width="35.0" x="40.0" y="26.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="createCrmCase" id="BPMNShape_createCrmCase">
        <omgdc:Bounds height="79.0" width="128.0" x="60.0" y="211.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="notifyUser" id="BPMNShape_notifyUser">
        <omgdc:Bounds height="79.0" width="132.0" x="230.0" y="211.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="notifyGroups" id="BPMNShape_notifyGroups">
        <omgdc:Bounds height="81.0" width="167.0" x="400.0" y="210.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent1" id="BPMNShape_endevent1">
        <omgdc:Bounds height="35.0" width="35.0" x="1060.0" y="678.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="validateRequest" id="BPMNShape_validateRequest">
        <omgdc:Bounds height="81.0" width="119.0" x="246.0" y="328.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="fetchValidationValues" id="BPMNShape_fetchValidationValues">
        <omgdc:Bounds height="79.0" width="100.0" x="433.0" y="329.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="updateCrmCase" id="BPMNShape_updateCrmCase">
        <omgdc:Bounds height="80.0" width="112.0" x="605.0" y="656.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="notifyClosureToUser" id="BPMNShape_notifyClosureToUser">
        <omgdc:Bounds height="78.0" width="142.0" x="750.0" y="657.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="updateScheduleInBanner" id="BPMNShape_updateScheduleInBanner">
        <omgdc:Bounds height="76.0" width="131.0" x="239.0" y="551.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway1" id="BPMNShape_exclusivegateway1">
        <omgdc:Bounds height="40.0" width="40.0" x="285.0" y="443.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-C7C255BD-6C76-47D2-B9CA-E0278D2A016C" id="BPMNShape_sid-C7C255BD-6C76-47D2-B9CA-E0278D2A016C">
        <omgdc:Bounds height="40.0" width="40.0" x="640.0" y="443.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="notifyWrongDocToUser" id="BPMNShape_notifyWrongDocToUser">
        <omgdc:Bounds height="76.0" width="170.0" x="766.0" y="331.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="scripttask1" id="BPMNShape_scripttask1">
        <omgdc:Bounds height="73.0" width="137.0" x="592.0" y="552.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="scripttask2" id="BPMNShape_scripttask2">
        <omgdc:Bounds height="78.0" width="140.0" x="236.0" y="657.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="validateDocumentation" id="BPMNShape_validateDocumentation">
        <omgdc:Bounds height="55.0" width="105.0" x="430.0" y="436.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="attachDocumentation" id="BPMNShape_attachDocumentation">
        <omgdc:Bounds height="80.0" width="100.0" x="610.0" y="211.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="callactivity1" id="BPMNShape_callactivity1">
        <omgdc:Bounds height="75.0" width="131.0" x="417.0" y="551.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="scripttask3" id="BPMNShape_scripttask3">
        <omgdc:Bounds height="55.0" width="105.0" x="608.0" y="341.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="parallelgateway1" id="BPMNShape_parallelgateway1">
        <omgdc:Bounds height="40.0" width="40.0" x="103.0" y="23.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="timerintermediatecatchevent1" id="BPMNShape_timerintermediatecatchevent1">
        <omgdc:Bounds height="35.0" width="35.0" x="278.0" y="26.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent2" id="BPMNShape_endevent2">
        <omgdc:Bounds height="35.0" width="35.0" x="730.0" y="26.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="callactivity2" id="BPMNShape_callactivity2">
        <omgdc:Bounds height="55.0" width="105.0" x="431.0" y="16.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endingNotification2" id="BPMNShape_endingNotification2">
        <omgdc:Bounds height="55.0" width="105.0" x="930.0" y="668.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endingNotification1" id="BPMNShape_endingNotification1">
        <omgdc:Bounds height="55.0" width="105.0" x="590.0" y="16.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="Notificacion" id="BPMNShape_Notificacion">
        <omgdc:Bounds height="55.0" width="105.0" x="74.0" y="111.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="sid-36ABACF3-4D82-4757-B3C2-ED28832361D5" id="BPMNEdge_sid-36ABACF3-4D82-4757-B3C2-ED28832361D5">
        <omgdi:waypoint x="75.0" y="43.0"></omgdi:waypoint>
        <omgdi:waypoint x="103.0" y="43.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-D6F62A05-FB2E-46C5-825C-AC142A1D8A5B" id="BPMNEdge_sid-D6F62A05-FB2E-46C5-825C-AC142A1D8A5B">
        <omgdi:waypoint x="188.0" y="250.0"></omgdi:waypoint>
        <omgdi:waypoint x="230.0" y="250.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-06B0A0DD-B200-4A8C-8F8F-F1BB82C789A0" id="BPMNEdge_sid-06B0A0DD-B200-4A8C-8F8F-F1BB82C789A0">
        <omgdi:waypoint x="362.0" y="250.0"></omgdi:waypoint>
        <omgdi:waypoint x="400.0" y="250.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-F1FC224F-493B-4DC1-B47A-2DA63552969B" id="BPMNEdge_sid-F1FC224F-493B-4DC1-B47A-2DA63552969B">
        <omgdi:waypoint x="717.0" y="696.0"></omgdi:waypoint>
        <omgdi:waypoint x="750.0" y="696.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-D7509276-09D7-4125-AB98-90FFE8AAAF50" id="BPMNEdge_sid-D7509276-09D7-4125-AB98-90FFE8AAAF50">
        <omgdi:waypoint x="892.0" y="696.0"></omgdi:waypoint>
        <omgdi:waypoint x="930.0" y="695.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-CC359DBD-312D-4C5E-83FC-C260BF5998EC" id="BPMNEdge_sid-CC359DBD-312D-4C5E-83FC-C260BF5998EC">
        <omgdi:waypoint x="305.0" y="409.0"></omgdi:waypoint>
        <omgdi:waypoint x="305.0" y="443.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="ok" id="BPMNEdge_ok">
        <omgdi:waypoint x="305.0" y="483.0"></omgdi:waypoint>
        <omgdi:waypoint x="304.0" y="551.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="42.0" width="8.0" x="305.0" y="483.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="no" id="BPMNEdge_no">
        <omgdi:waypoint x="325.0" y="463.0"></omgdi:waypoint>
        <omgdi:waypoint x="430.0" y="463.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="42.0" width="12.0" x="325.0" y="463.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-4B4AEFDC-D498-4592-AC51-26FBF52BBBDC" id="BPMNEdge_sid-4B4AEFDC-D498-4592-AC51-26FBF52BBBDC">
        <omgdi:waypoint x="660.0" y="483.0"></omgdi:waypoint>
        <omgdi:waypoint x="482.0" y="551.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="42.0" width="8.0" x="660.0" y="483.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-A9659F3F-F381-4CB7-8E12-D2C6A50F7306" id="BPMNEdge_sid-A9659F3F-F381-4CB7-8E12-D2C6A50F7306">
        <omgdi:waypoint x="660.0" y="443.0"></omgdi:waypoint>
        <omgdi:waypoint x="851.0" y="407.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="42.0" width="12.0" x="663.0" y="383.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-EDDEB11E-0F44-4E6B-87A2-DF7448962D46" id="BPMNEdge_sid-EDDEB11E-0F44-4E6B-87A2-DF7448962D46">
        <omgdi:waypoint x="483.0" y="291.0"></omgdi:waypoint>
        <omgdi:waypoint x="483.0" y="329.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-19E913B8-EC9A-4C51-9D24-F96337E15D10" id="BPMNEdge_sid-19E913B8-EC9A-4C51-9D24-F96337E15D10">
        <omgdi:waypoint x="433.0" y="368.0"></omgdi:waypoint>
        <omgdi:waypoint x="365.0" y="368.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-C4177BDE-4031-433D-81B5-D83AAB91DEF9" id="BPMNEdge_sid-C4177BDE-4031-433D-81B5-D83AAB91DEF9">
        <omgdi:waypoint x="851.0" y="331.0"></omgdi:waypoint>
        <omgdi:waypoint x="660.0" y="291.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-4B89FA7C-E824-4EE8-84E8-D992437FF91A" id="BPMNEdge_sid-4B89FA7C-E824-4EE8-84E8-D992437FF91A">
        <omgdi:waypoint x="660.0" y="625.0"></omgdi:waypoint>
        <omgdi:waypoint x="661.0" y="656.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-B8AB1BD2-30CF-4CB0-8C80-1686B52AFADB" id="BPMNEdge_sid-B8AB1BD2-30CF-4CB0-8C80-1686B52AFADB">
        <omgdi:waypoint x="304.0" y="627.0"></omgdi:waypoint>
        <omgdi:waypoint x="306.0" y="657.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-4195AD74-CBCA-4611-A6AF-70846CEFBD8E" id="BPMNEdge_sid-4195AD74-CBCA-4611-A6AF-70846CEFBD8E">
        <omgdi:waypoint x="376.0" y="696.0"></omgdi:waypoint>
        <omgdi:waypoint x="605.0" y="696.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow1" id="BPMNEdge_flow1">
        <omgdi:waypoint x="535.0" y="463.0"></omgdi:waypoint>
        <omgdi:waypoint x="640.0" y="463.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-22940B77-EFA8-48D0-95BD-522F679D426F" id="BPMNEdge_sid-22940B77-EFA8-48D0-95BD-522F679D426F">
        <omgdi:waypoint x="660.0" y="291.0"></omgdi:waypoint>
        <omgdi:waypoint x="660.0" y="341.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow3" id="BPMNEdge_flow3">
        <omgdi:waypoint x="548.0" y="588.0"></omgdi:waypoint>
        <omgdi:waypoint x="592.0" y="588.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow2" id="BPMNEdge_flow2">
        <omgdi:waypoint x="608.0" y="368.0"></omgdi:waypoint>
        <omgdi:waypoint x="533.0" y="368.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow4" id="BPMNEdge_flow4">
        <omgdi:waypoint x="123.0" y="63.0"></omgdi:waypoint>
        <omgdi:waypoint x="126.0" y="111.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow5" id="BPMNEdge_flow5">
        <omgdi:waypoint x="143.0" y="43.0"></omgdi:waypoint>
        <omgdi:waypoint x="278.0" y="43.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow6" id="BPMNEdge_flow6">
        <omgdi:waypoint x="313.0" y="43.0"></omgdi:waypoint>
        <omgdi:waypoint x="431.0" y="43.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow7" id="BPMNEdge_flow7">
        <omgdi:waypoint x="536.0" y="43.0"></omgdi:waypoint>
        <omgdi:waypoint x="590.0" y="43.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow8" id="BPMNEdge_flow8">
        <omgdi:waypoint x="1035.0" y="695.0"></omgdi:waypoint>
        <omgdi:waypoint x="1060.0" y="695.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow9" id="BPMNEdge_flow9">
        <omgdi:waypoint x="695.0" y="43.0"></omgdi:waypoint>
        <omgdi:waypoint x="730.0" y="43.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow10" id="BPMNEdge_flow10">
        <omgdi:waypoint x="126.0" y="166.0"></omgdi:waypoint>
        <omgdi:waypoint x="124.0" y="211.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>